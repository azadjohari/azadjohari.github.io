(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"95Q5":function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"k",(function(){return j}));var r=function(e){return!!e&&"quote"in e},c=function(e){return!!e&&"status"in e},a=function(e){return!!e&&"rating"in e},i=function(e){return r(e)},o=function(e){return c(e)},u=function(e){return a(e)},s=function(e){var t=null===e||void 0===e?void 0:e.data;return r(t)&&!!t.profile&&!!t.book},l=function(e){var t=null===e||void 0===e?void 0:e.data;return c(t)&&!!t.profile&&!!t.book},d=function(e){var t=null===e||void 0===e?void 0:e.data;return a(t)&&!!t.profile&&!!t.book},f=function(e){var t;return null===(t=e.group)||void 0===t?void 0:t.includes("create_moment")},p=function(e){var t;return null===(t=e.group)||void 0===t?void 0:t.includes("update_readingState")},b=function(e){var t;return null===(t=e.group)||void 0===t?void 0:t.includes("create_bookReview")},v=function(e){return!!e&&Array.isArray(e)&&e.every(s)};function j(e){return null!==e&&void 0!==e}},"E5/Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n("q1tI"),c={days:2,path:"/"};function a(e,t){return document.cookie.split("; ").reduce((function(t,n){var r=n.split("=");return r[0]===e?decodeURIComponent(r[1]):t}),"")||t}function i(e,t,n){var r=new Date(Date.now()+864e5*n.days).toUTCString(),c=encodeURIComponent(t);document.cookie="".concat(e,"=").concat(c,"; expires=").concat(r,"; path=").concat(n.path,"; SameSite=Lax")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;var n="Thu, 01 Jan 1970 00:00:00 GMT";document.cookie="".concat(e,"= ; expires = ").concat(n,"; path=").concat(t.path,"; SameSite=Lax")}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,u=Object(r.useState)((function(){return a(e,t)})),s=u[0],l=u[1],d=function(t){l(t),i(e,t,n)},f=function(){l(void 0),o(e,n)};return[s,d,f]}},MjsB:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r,c=n("cpVT"),a=n("gix7"),i=n("xMVN"),o=!1,u=(r={},Object(c.a)(r,a.r.WantsToRead,"Want to read"),Object(c.a)(r,a.r.IsReading,"Reading"),Object(c.a)(r,a.r.Finished,"Read"),Object(c.a)(r,a.r.Dropped,"Dropped"),Object(c.a)(r,a.r.None,"Cleared"),r),s=function(e){window.mixpanel&&(Object(i.a)(e.handle)?o=!0:(window.mixpanel.identify(e.handle),window.mixpanel.people.set({USER_ID:e.handle,name:e.name,$avatar:e.image})))},l=function(e,t){window.mixpanel&&!o&&mixpanel.track(e,t)};t.a=function(){return{trackEvent:l,identifyUser:s}}},Rwbz:function(e,t,n){e.exports={container:"AcceptTerms_container__2OkFL",button:"AcceptTerms_button__2f-l8",text:"AcceptTerms_text__2KH0F"}},SZ2y:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("cpVT"),c=n("nKUr"),a=n("q1tI"),i=n("mzDv"),o=n.n(i);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){return Object(c.jsx)("svg",{width:"14",height:"11",viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{d:"M1.5 5L5.16667 9L12.5 1",stroke:"#444340",strokeWidth:"1.6",strokeLinecap:"round"})})},d=function(e){var t=e.isChecked;return Object(c.jsxs)("span",{className:o.a.checkbox,children:[Object(c.jsx)("input",{type:"checkbox",checked:t,readOnly:!0}),Object(c.jsx)("span",{className:o.a.box,children:Object(c.jsx)(l,{})})]})},f=Object(a.forwardRef)((function(e,t){var n=e.children,r=e.name,a=e.checked,i=e.setChecked;return Object(c.jsxs)("label",{className:o.a.checkbox,children:[Object(c.jsx)("input",s({type:"checkbox",name:r,ref:t},void 0!==a&&void 0!==i&&{checked:a,onChange:function(e){return i("on"===e.target.value)}})),Object(c.jsx)("span",{className:o.a.box,children:Object(c.jsx)(l,{})}),n&&Object(c.jsx)("span",{className:"ml-2",children:n})]})}));f.displayName="Checkbox",t.b=f},gFD5:function(e,t,n){"use strict";function r(e){window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(e)}n.d(t,"a",(function(){return r}))},ihkx:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("nKUr"),c=n("vJKn"),a=n.n(c),i=n("rg98"),o=n("xvhg"),u=n("VX74"),s=n("8YUc"),l=n("SZ2y"),d=n("NKCw"),f=n("Rwbz"),p=n.n(f),b=n("4SLk"),v=function(e){var t=e.acceptance,n=e.onSubmit,c=Object(d.b)({defaultValues:t}),a=c.register,i=c.handleSubmit,o=(0,c.watch)("acceptedTerms");return Object(r.jsxs)("div",{className:p.a.container,children:[Object(r.jsx)("h1",{className:"displayHeader mb-4",children:"Terms and conditions"}),Object(r.jsx)("p",{className:"body-large mb-4",children:"In order to continue you must accept our latest terms and conditions. Also, feel free to subscribe to our our email newsletter to keep updated with our latest product news."}),Object(r.jsxs)("form",{onSubmit:i(n),className:"form",children:[Object(r.jsxs)(l.b,{name:"acceptedTerms",ref:a,children:[Object(r.jsx)("span",{className:p.a.text,children:"I accept the "}),Object(r.jsx)("a",{href:"https://pages.literal.club/terms-and-conditions",target:"_blank",rel:"noreferrer",className:p.a.button,children:Object(r.jsx)(s.b,{variant:"underline",size:"inherit",children:"terms and conditions"})}),Object(r.jsx)("span",{className:p.a.text,children:" and "}),Object(r.jsx)("a",{href:"https://pages.literal.club/privacy-policy",target:"_blank",rel:"noreferrer",className:p.a.button,children:Object(r.jsx)(s.b,{variant:"underline",size:"inherit",children:"privacy policy"})})]}),Object(r.jsx)(l.b,{name:"acceptedNewsletter",ref:a,children:"I want the amazing newsletter"}),Object(r.jsx)("div",{className:"mt-4",children:Object(r.jsx)(b.a,{type:"submit",disabled:!o,children:"Continue"})})]})]})},j=n("MjsB"),h=n("q1tI"),m=n.n(h),O=n("gFD5"),x=n("95Q5"),g=n("gix7"),w=n("E5/Y"),k=m.a.createContext({}),y=function(e){var t,n=e.children,c=Object(j.a)(),s=Object(h.useState)(!1),l=s[0],d=s[1],f=Object(h.useState)(null),p=f[0],b=f[1],m=Object(h.useState)(null),y=m[0],S=m[1],N=Object(h.useState)(null),_=N[0],C=N[1],T=Object(w.b)("token",void 0,{days:14,path:"/"}),R=Object(o.a)(T,3),E=R[0],L=R[1],D=R[2],U=Object(h.useState)([]),I=U[0],P=U[1],A=Object(h.useState)(!1),M=A[0],V=A[1],z=Object(u.useApolloClient)(),Y=Object(g.N)({skip:!E}),F=Y.data,K=Y.refetch,W=Y.loading,q=Object(g.s)({skip:!E||!p||!l}),H=q.data,J=q.refetch,Q=Object(g.gb)({skip:!E||!p||!l}).data,B=Object(g.vb)(),G=Object(o.a)(B,1)[0],Z=Object(g.bb)(),X=Object(o.a)(Z,1)[0],$=Object(g.jb)(),ee=Object(o.a)($,1)[0];Object(h.useEffect)((function(){var e;null!==F&&void 0!==F&&F.me&&(b(F.me.profile||null),S(F.me.email||null),P((null===(e=F.me.languages)||void 0===e?void 0:e.filter(x.k))||[]));V(W),d(!0)}),[F,W]),Object(h.useEffect)((function(){if(null!==Q&&void 0!==Q&&Q.myReadingStates){var e=null===Q||void 0===Q?void 0:Q.myReadingStates.filter(x.k);C(e)}}),[Q]),Object(h.useEffect)((function(){p&&c.identifyUser(p)}),[p]);var te=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,c,i,o,u,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.prev=1,e.next=4,X({variables:{email:t,password:n}});case 4:return s=e.sent,(l=null===(r=s.data)||void 0===r||null===(c=r.login)||void 0===c?void 0:c.token)&&L(l),e.abrupt("return",{isSuccessful:!!l,handle:null===(i=s.data)||void 0===i||null===(o=i.login)||void 0===o||null===(u=o.profile)||void 0===u?void 0:u.handle});case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{isSuccessful:!1,handle:null});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),b(null),S(null),P([]),C(null),D(),V(!1),Object(O.a)("LOGOUT"),e.next=10,z.clearStore();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r,c,i,o,u){var s,l,d,f,p,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:return e.prev=2,e.next=5,ee({variables:{email:t,password:n,handle:r,name:c,acceptedTerms:i,acceptedNewsletter:o,languages:u}});case 5:return d=e.sent,(f=null===(s=d.data)||void 0===s||null===(l=s.register)||void 0===l?void 0:l.token)&&L(f),e.abrupt("return",{isSuccessful:!!f,error:""});case 11:return e.prev=11,e.t0=e.catch(2),console.log(e.t0),p="Error occured",e.t0.graphQLErrors&&(b=e.t0.graphQLErrors[0].message,p=b),e.abrupt("return",Promise.resolve({isSuccessful:!1,error:p}));case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,r,c,a,i,o){return e.apply(this,arguments)}}(),ce=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.acceptedNewsletter,r=t.acceptedTerms,n&&r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,G({variables:{acceptedNewsletter:n,acceptedTerms:r}});case 5:return e.next=7,J();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null===H||void 0===H||!H.acceptance||null!==H&&void 0!==H&&null!==(t=H.acceptance)&&void 0!==t&&t.acceptedTerms?Object(r.jsx)(k.Provider,{value:{isLoading:M,userIdentityChecked:l,isAuthenticated:null!==p,profile:p,email:y,languages:I,acceptance:null===H||void 0===H?void 0:H.acceptance,readingStates:_,authenticate:te,logout:ne,register:re,refetchProfile:K,refetchAcceptance:J},children:n}):Object(r.jsx)(v,{acceptance:H.acceptance,onSubmit:ce})};t.b=function(){return Object(h.useContext)(k)}},mOvS:function(e,t,n){e.exports=n("yLiY")},mzDv:function(e,t,n){e.exports={checkbox:"Checkbox_checkbox__1YOsE",box:"Checkbox_box__3mNTL"}},xMVN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mOvS"),c=n.n(r)()().publicRuntimeConfig,a=function(e){return(c.testUserHandles?c.testUserHandles.split(","):[]).includes(e)}},yLiY:function(e,t,n){"use strict";var r;t.__esModule=!0,t.setConfig=function(e){r=e},t.default=void 0;t.default=function(){return r}}}]);
//# sourceMappingURL=b3e0c76db2fafd5af0dc735df15929df6f37c3ec.213cf1bdba662cb0440e.js.map
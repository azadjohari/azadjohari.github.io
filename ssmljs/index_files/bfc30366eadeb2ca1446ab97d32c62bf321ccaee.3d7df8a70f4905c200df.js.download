(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"+z4i":function(e,t,n){e.exports={container:"ReviewTagInput_container__1EXhD",headline:"ReviewTagInput_headline__NoxB3",shuffle:"ReviewTagInput_shuffle__39Qmq"}},"/oYa":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("nKUr"),a=n("cpVT"),i=n("TSYQ"),o=n.n(i),c=n("KIKo"),s=n.n(c),l=function(e){var t,n=e.tag,i=e.isActive,c=e.onClick;return Object(r.jsx)("div",{className:o()(s.a.tag,(t={},Object(a.a)(t,s.a.tagActive,i),Object(a.a)(t,s.a.isEditable,!!c),t)),onClick:c,children:n.label},n.value)}},"0WcB":function(e,t,n){e.exports={error:"FormError_error__3P9dK"}},"0dWG":function(e,t,n){"use strict";var r=n("nKUr"),a=n("xvhg"),i=n("q1tI"),o=n("0WcB"),c=n.n(o);t.a=function(e){var t=e.errors,n=Object(i.useState)([]),o=n[0],s=n[1];return Object(i.useEffect)((function(){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=Object(a.a)(r[n],2),o=(i[0],i[1]);e.push(o.message)}s(e)}),[t]),0===o.length?null:Object(r.jsxs)("div",{className:c.a.error,children:[Object(r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M12 19H4.70985C3.94502 19 3.46331 18.1763 3.83827 17.5097L11.1284 4.54947C11.5107 3.86982 12.4893 3.86982 12.8716 4.54947L20.1617 17.5097C20.5367 18.1763 20.055 19 19.2902 19H12Z",stroke:"#E14D4D",strokeWidth:"1.6",strokeLinecap:"round"}),Object(r.jsx)("path",{d:"M12.7162 8.95862C12.7162 8.54338 12.3796 8.20676 11.9644 8.20676C11.5491 8.20676 11.2125 8.54338 11.2125 8.95863V13.3845C11.2125 13.7997 11.5491 14.1364 11.9644 14.1364C12.3796 14.1364 12.7162 13.7997 12.7162 13.3845V8.95862ZM11.9496 17.0796C12.4418 17.0796 12.8445 16.6769 12.8445 16.1847C12.8445 15.6925 12.4418 15.2898 11.9496 15.2898C11.4574 15.2898 11.0547 15.6925 11.0547 16.1847C11.0547 16.6769 11.4574 17.0796 11.9496 17.0796Z",fill:"#E14D4D"})]}),Object(r.jsx)("div",{children:o.map((function(e){return Object(r.jsx)("div",{children:e},e)}))})]})}},"2uYD":function(e,t,n){"use strict";var r=n("cpVT"),a=n("nKUr"),i=n("dhJC"),o=n("YFqc"),c=n.n(o),s=n("TEdz"),l=n("gaAT"),u=n("kqEe"),d=n("JmH7"),b=n.n(d),j=n("95Q5"),v=function(e){var t,n=e.book,r=e.momentsCount,i=e.hideReadingStatus,o=e.readingStates,c=e.controls;return Object(a.jsxs)("div",{className:b.a.box,children:[Object(a.jsxs)("div",{className:b.a.inner,children:[Object(a.jsx)("div",{className:b.a.image,children:Object(a.jsxs)("div",{className:b.a.relative,children:[Object(a.jsx)(s.a,{book:n}),Object(a.jsxs)("div",{className:b.a.stickers,children:[Object(a.jsx)(u.a,{count:r,gradientColors:null===(t=n.gradientColors)||void 0===t?void 0:t.filter(j.k)}),!i&&Object(a.jsx)(l.a,{bookId:n.id,readingStates:o})]})]})}),Object(a.jsxs)("div",{className:b.a.info,children:[Object(a.jsx)("div",{className:b.a.title,children:n.title}),n.authors&&Object(a.jsx)("div",{className:b.a.authors,children:n.authors.map((function(e){return e.name})).join(", ")})]})]}),c&&Object(a.jsx)("div",{className:b.a.controls,children:c})]})},f=function(e){var t=e.book,n=e.onClick,r=e.href,i=e.as,o=e.controls,s=e.hideReadingStatus,l=e.readingStates,u=e.momentsCount;return n?Object(a.jsx)("div",{className:b.a.container,children:Object(a.jsx)("button",{onClick:n,className:b.a.outerButton,children:Object(a.jsx)(v,{book:t,readingStates:l,hideReadingStatus:s,controls:o})})}):Object(a.jsx)("div",{className:b.a.container,children:Object(a.jsx)(c.a,{href:r||"/book/[bookSlug]",as:i||"/book/".concat(t.slug),children:Object(a.jsx)("a",{children:Object(a.jsx)(v,{book:t,readingStates:l,hideReadingStatus:s,momentsCount:u,controls:o})})})})},h=n("ihkx"),O=n("CxTA"),p=n("iwTR");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.profileId,n=e.additionalOptions,r=e.optionsPositioningStrategy,o=void 0===r?"absolute":r,c=e.hideBookOptions,s=void 0!==c&&c,l=Object(i.a)(e,["profileId","additionalOptions","optionsPositioningStrategy","hideBookOptions"]),u=Object(h.b)().readingStates,d=Object(O.b)(l.book.id,t);return Object(a.jsx)(f,x(x({},l),{},{momentsCount:d||void 0,readingStates:u||void 0,controls:s?null:Object(a.jsx)(p.a,{book:l.book,additionalOptions:n,positioningStrategy:o})}))}},"3qUi":function(e,t,n){e.exports={controls:"ShelfForm_controls__1-14n",textarea:"ShelfForm_textarea__2SuTa"}},"7zTf":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=[{value:"remarkable",label:"Remarkable"},{value:"addictive",label:"Addictive"},{value:"magnetic",label:"Magnetic"},{value:"page turning",label:"Page turning"},{value:"fascinating",label:"Fascinating"},{value:"awe-inspiring",label:"Awe-inspiring"},{value:"extraordinary",label:"Extraordinary"},{value:"delightful",label:"Delightful"},{value:"beautiful",label:"Beautiful"},{value:"sophisticated",label:"Sophisticated"},{value:"eloquent",label:"Eloquent"},{value:"powerful",label:"Powerful"},{value:"ambitious",label:"Ambitious"},{value:"bold",label:"Bold"},{value:"daring",label:"Daring"},{value:"charming",label:"Charming"},{value:"compelling",label:"Compelling"},{value:"vivid",label:"Vivid"},{value:"conceptual",label:"Conceptual"},{value:"complex",label:"Complex"},{value:"layered",label:"Layered"},{value:"cerebral",label:"Cerebral"},{value:"contemplative",label:"Contemplative"},{value:"intelligent",label:"Intelligent"},{value:"clever",label:"Clever"},{value:"creative",label:"Creative"},{value:"inventive",label:"Inventive"},{value:"artistic",label:"Artistic"},{value:"avant-garde",label:"Avant-garde"},{value:"surreal",label:"Surreal"},{value:"dark",label:"Dark"},{value:"deceptive",label:"Deceptive"},{value:"deep",label:"Deep"},{value:"easy read",label:"Easy read"},{value:"edgy",label:"Edgy"},{value:"educational",label:"Educational"},{value:"thought provoking",label:"Thought provoking"},{value:"controversial",label:"Controversial"},{value:"emotional",label:"Emotional"},{value:"touching",label:"Touching"},{value:"enigmatic",label:"Enigmatic"},{value:"hilarious",label:"Hilarious"},{value:"witty",label:"Witty"},{value:"visionary",label:"Visionary"},{value:"fast paced",label:"Fast paced"},{value:"erratic",label:"Erratic"},{value:"exciting",label:"Exciting"},{value:"suspenseful",label:"Suspenseful"},{value:"thrilling",label:"Thrilling"},{value:"expressive",label:"Expressive"},{value:"convincing",label:"Convincing"},{value:"feel good",label:"Feel good"},{value:"goofy",label:"Goofy"},{value:"playful",label:"Playful"},{value:"gross",label:"Gross"},{value:"gruesome",label:"Gruesome"},{value:"light hearted",label:"Light hearted"},{value:"comforting",label:"Comforting"},{value:"heartwarming",label:"Heartwarming"},{value:"heartbreaking",label:"Heartbreaking"},{value:"tragic",label:"Tragic"},{value:"insightful",label:"Insightful"},{value:"inspirational",label:"Inspirational"},{value:"dizzying",label:"Dizzying"},{value:"intense",label:"Intense"},{value:"meaningful",label:"Meaningful"},{value:"profound",label:"Profound"},{value:"paradoxical",label:"Paradoxical"},{value:"offbeat",label:"Offbeat"},{value:"unforgettable",label:"Unforgettable"},{value:"original",label:"Original"},{value:"refreshing",label:"Refreshing"},{value:"unique",label:"Unique"},{value:"ironic",label:"Ironic"},{value:"pure",label:"Pure"},{value:"honest",label:"Honest"},{value:"candid",label:"Candid"},{value:"sweet",label:"Sweet"},{value:"simple",label:"Simple"},{value:"surprising",label:"Surprising"},{value:"unpredictable",label:"Unpredictable"},{value:"timeless",label:"Timeless"},{value:"vibrant",label:"Vibrant"},{value:"implausible",label:"Implausible"},{value:"obnoxious",label:"Obnoxious"},{value:"predictable",label:"Predictable"},{value:"repetitive",label:"Repetitive"},{value:"long winded",label:"Long winded"},{value:"pretentious",label:"Pretentious"},{value:"testosterone-y",label:"Testosterone-y"},{value:"dumb",label:"Dumb"},{value:"shallow",label:"Shallow"},{value:"depressing",label:"Depressing"},{value:"offensive",label:"Offensive"},{value:"dry",label:"Dry"},{value:"unoriginal",label:"Unoriginal"}];function a(e){return r.filter((function(t){return e.includes(t.value)}))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=r.filter((function(e){return!t.includes(e.value)})).sort((function(){return.5-Math.random()}));return n.slice(0,e)}},"8cCV":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return p}));var r=n("nKUr"),a=n("z7pX"),i=n("xvhg"),o=n("cpVT"),c=n("dhJC"),s=n("TSYQ"),l=n.n(s),u=n("q1tI"),d=n("qcQQ");var b=n("dApv"),j=n.n(b);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.value,n=void 0===t?null:t,a=e.index,i=void 0===a?0:a,o=e.width,s=void 0===o?40:o,l=e.height,d=void 0===l?40:l,b=Object(c.a)(e,["value","index","width","height"]),v=Object(u.useState)(),h=v[0],O=v[1];Object(u.useEffect)((function(){O("gradient"+Math.random().toString(36).substr(2,9))}),[]);var p=Object(u.useMemo)((function(){return n?n>=i&&n<i+1?n-i:n>=i?1:n<i?0:void 0:0}),[n]);return Object(r.jsxs)("svg",f(f({width:s,height:d,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},b),{},{children:[Object(r.jsx)("path",{d:"M19.3084 7.56332C19.5475 6.82542 20.5915 6.82541 20.8306 7.56332L23.2001 14.8772C23.307 15.2071 23.6143 15.4306 23.9612 15.4306L31.6335 15.4309C32.4079 15.4309 32.7305 16.4213 32.1047 16.8774L25.8936 21.4039C25.6141 21.6076 25.4972 21.9679 25.6037 22.2969L27.975 29.6177C28.2138 30.3551 27.3693 30.9673 26.7428 30.5108L20.5406 25.9914C20.2599 25.7869 19.8791 25.7869 19.5984 25.9914L13.3962 30.5108C12.7697 30.9673 11.9252 30.3551 12.164 29.6177L14.5353 22.2969C14.6418 21.9679 14.5249 21.6076 14.2454 21.4039L8.03433 16.8774C7.40853 16.4213 7.73111 15.4309 8.50548 15.4309L16.1778 15.4306C16.5247 15.4306 16.832 15.2071 16.9389 14.8772L19.3084 7.56332Z",strokeWidth:"1.6",style:{fill:"url(#".concat(h,")")}}),Object(r.jsx)("defs",{children:Object(r.jsxs)("linearGradient",{y2:"0%",x2:"100%",y1:"0%",x1:"0%",id:"".concat(h),className:j.a.gradient,children:[Object(r.jsx)("stop",{className:"part1",offset:p}),Object(r.jsx)("stop",{className:"part2",offset:"0"})]})})]}))};var O=function(e){var t,n=e.onChange,c=void 0===n?d.a:n,s=e.value,b=void 0===s?null:s,v=e.stars,O=void 0===v?5:v,p=e.size,g=void 0===p?40:p,x=u.useState(),m=Object(i.a)(x,2),C=m[0],_=m[1],w=u.useState((null===b||void 0===b?void 0:b.toString())||""),k=Object(i.a)(w,2),y=k[0],L=k[1],I=window.matchMedia("(max-width: 599px)").matches,S=function(e){c(e),L(e.toFixed(1))};return Object(r.jsxs)("div",{className:l()(j.a.ratingInputContainer,(t={},Object(o.a)(t,j.a.noValue,!b&&!C),Object(o.a)(t,j.a.hovering,!!C),t)),children:[Object(r.jsx)("span",{className:j.a.container,children:Object(a.a)(Array(O)).map((function(e,t){return Object(r.jsxs)("span",{className:j.a.starIcon,style:{width:g-8,height:g},children:[Object(r.jsx)("span",f(f({className:l()(j.a.starIconHalf,j.a.starIconHalf1)},!I&&{onMouseEnter:function(){return _(t+.5)},onMouseLeave:function(){return _(void 0)}}),{},{onClick:function(){return setTimeout((function(){return S(t+.5)}),100)}})),Object(r.jsx)("span",f(f({className:l()(j.a.starIconHalf,j.a.starIconHalf2)},!I&&{onMouseEnter:function(){return _(t+1)},onMouseLeave:function(){return _(void 0)}}),{},{onClick:function(){return setTimeout((function(){return S(t+1)}),100)}})),Object(r.jsx)(h,{value:C||b,index:t,width:g,height:g})]},t)}))}),Object(r.jsx)("div",{className:j.a.textInputContainer,children:b&&b>0||C?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{className:j.a.textInput,type:"number",min:0,max:5,step:.01,value:(null===C||void 0===C?void 0:C.toFixed(1))||y,onChange:function(e){L(e.target.value)},onBlur:function(e){L(e.target.value),c(function(e){var t=parseFloat(e);return Math.round(4*t)/4}(e.target.value))}}),"/ 5"]}):Object(r.jsx)("span",{children:"No rating"})})]})};O.displayName="RatingInput";var p=Object(u.forwardRef)((function(e,t){var n=e.initValue,i=e.stars,o=void 0===i?5:i,s=e.size,l=void 0===s?40:s,u=Object(c.a)(e,["initValue","stars","size"]);return Object(r.jsx)("span",f(f({},u),{},{style:{display:"flex"},ref:t,children:Object(a.a)(Array(o)).map((function(e,t){return Object(r.jsx)("span",{className:j.a.starIcon,style:{width:l-8,height:l},children:Object(r.jsx)(h,{value:n,index:t,width:l,height:l})},t)}))}))}));p.displayName="Rating"},"9M69":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("nKUr"),a=function(e){var t=e.color,n=void 0===t?"currentColor":t;return Object(r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M12.3643 19.7285V5.00144",stroke:n,strokeWidth:"1.6",strokeLinecap:"round"}),Object(r.jsx)("path",{d:"M5.00095 12.3633L19.728 12.3633",stroke:n,strokeWidth:"1.6",strokeLinecap:"round"})]})};t.b=a},"Fj+D":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("nKUr"),a=n("cpVT"),i=n("dhJC"),o=n("q1tI");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=n.n(o).a.createContext({}),u=function(e){var t=e.children,n=Object(i.a)(e,["children"]);return Object(r.jsx)(l.Provider,{value:s({},n),children:t})};t.b=function(){return Object(o.useContext)(l)}},Hi1A:function(e,t,n){"use strict";var r=n("nKUr");t.a=function(e){var t=e.color,n=void 0===t?"currentColor":t;return Object(r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M5 12L9.66667 17L19 7",stroke:n,strokeWidth:"1.6",strokeLinecap:"round"})})}},"Hn/8":function(e,t,n){"use strict";var r=n("cpVT"),a=n("nKUr"),i=n("q1tI"),o=n("k7rU");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=Object(i.forwardRef)((function(e,t){return Object(a.jsx)(o.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t,icon:Object(a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("circle",{cx:"12",cy:"20",r:"2",transform:"rotate(-90 12 20)"}),Object(a.jsx)("circle",{cx:"12",cy:"12",r:"2",transform:"rotate(-90 12 12)"}),Object(a.jsx)("circle",{cx:"12",cy:"4",r:"2",transform:"rotate(-90 12 4)"})]})},e))}));s.displayName="OptionsButton",t.a=s},I1Pg:function(e,t,n){"use strict";var r=n("nKUr"),a=n("q1tI"),i=n("NKCw"),o=n("4SLk"),c=n("0dWG"),s=n("3qUi"),l=n.n(s),u=n("qcQQ");t.a=function(e){var t=e.onSubmit,n=e.initialData,s=e.additionalButtons,d=e.setIsDirty,b=void 0===d?u.a:d,j=Object(i.b)({defaultValues:n}),v=j.register,f=j.handleSubmit,h=j.errors,O=j.formState;return Object(a.useEffect)((function(){b(O.isDirty)}),[O.isDirty]),Object(r.jsxs)("form",{onSubmit:f(t),className:"form",children:[Object(r.jsx)("h2",{className:"displayHeader",children:n?"Edit shelf":"Create a shelf"}),Object(r.jsx)("label",{htmlFor:"title",children:"Name"}),Object(r.jsx)("input",{id:"title",name:"title",placeholder:"Give it a name",ref:v({required:"Name is required"}),className:"text-input"}),Object(r.jsx)("label",{htmlFor:"description",children:"Description (optional)"}),Object(r.jsx)("textarea",{id:"description",name:"description",placeholder:"Add a description",ref:v,className:"text-input ".concat(l.a.textarea)}),Object(r.jsxs)("div",{className:l.a.controls,children:[Object(r.jsx)(o.a,{type:"submit",children:n?"Save shelf":"Create shelf"}),Object(r.jsx)("span",{children:s})]}),h&&Object.keys(h).length>0&&Object(r.jsx)("div",{style:{marginTop:"20px"},children:Object(r.jsx)(c.a,{errors:h})})]})}},Jbsg:function(e,t,n){"use strict";var r=n("nKUr"),a=n("vJKn"),i=n.n(a),o=n("rg98"),c=n("xvhg"),s=n("gix7"),l=n("q1tI"),u=n("efMA"),d=n("I1Pg"),b=n("MjsB");t.a=function(e){var t=e.afterCreate,n=e.isOpen,a=e.setOpen,j=Object(b.a)(),v=Object(s.C)(),f=Object(c.a)(v,1)[0],h=Object(l.useState)(!1),O=h[0],p=h[1],g=function(){var e=Object(o.a)(i.a.mark((function e(n){var r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({variables:{title:n.title,description:n.description}});case 2:if(c=e.sent,j.trackEvent("shelf_created",{shelfId:null===(r=c.data)||void 0===r||null===(o=r.createShelf)||void 0===o?void 0:o.id}),!t){e.next=7;break}return e.next=7,t();case 7:a(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(r.jsx)(u.a,{close:function(){if(!O)return a(!1);confirm("You have unsaved changes. Are you sure you want to leave?")&&a(!1)},children:Object(r.jsx)(d.a,{onSubmit:g,setIsDirty:p})}):null}},JmH7:function(e,t,n){e.exports={container:"Item_container__NqBVC",image:"Item_image__36cDt",controls:"Item_controls__tl_U4",outerButton:"Item_outerButton__2lHE2",box:"Item_box__2O0pL",inner:"Item_inner__3RE5_",relative:"Item_relative__ASQlZ",info:"Item_info__20LwR",title:"Item_title__3gZFF",authors:"Item_authors__nQc_u",stickers:"Item_stickers__DqSwf",momentsCount:"Item_momentsCount__2xN3l",number:"Item_number__2VlWZ"}},KIKo:function(e,t,n){e.exports={tag:"ReviewTag_tag__3IgJh",isEditable:"ReviewTag_isEditable__37ef3",tagActive:"ReviewTag_tagActive__833kU"}},KTfp:function(e,t,n){"use strict";var r=n("nKUr"),a=n("cpVT"),i=n("dhJC"),o=n("q1tI"),c=n("TSYQ"),s=n.n(c),l=n("pnf/"),u=n.n(l);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=Object(o.forwardRef)((function(e,t){var n=e.isActive,o=Object(i.a)(e,["isActive"]);return Object(r.jsx)("button",b(b({},o),{},{className:s()(u.a.dotsButton,Object(a.a)({},u.a.active,n)),ref:t,children:Object(r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"#E9E9E5",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("circle",{cx:"12",cy:"20",r:"2",transform:"rotate(-90 12 20)"}),Object(r.jsx)("circle",{cx:"12",cy:"12",r:"2",transform:"rotate(-90 12 12)"}),Object(r.jsx)("circle",{cx:"12",cy:"4",r:"2",transform:"rotate(-90 12 4)"})]})}))}));j.displayName="DotsButton",t.a=j},Kcz3:function(e,t,n){e.exports={checkbox:"Shelves_checkbox__HE2Lx"}},LMak:function(e,t,n){"use strict";var r=n("nKUr");t.a=function(e){var t=e.color,n=void 0===t?"currentColor":t;return Object(r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M9.47716 14.9756L4.88075 9.49938C4.481 9.02311 4.60821 8.30136 5.1467 7.99046L11.7425 4.18239C12.281 3.87149 12.9696 4.12219 13.1822 4.70652L15.6266 11.4253C15.6879 11.5937 15.8347 11.7165 16.0113 11.747L19.4377 12.3392C19.4838 12.3472 19.4947 12.4084 19.4542 12.4318L8.43503 18.7937C8.39453 18.817 8.34696 18.777 8.3631 18.7331L9.56345 15.4697C9.62533 15.3014 9.59241 15.1129 9.47716 14.9756Z",stroke:n,strokeWidth:"1.6"}),Object(r.jsx)("path",{d:"M15.8611 20.5324C16.082 20.9151 16.5713 21.0462 16.9539 20.8253C17.3366 20.6043 17.4677 20.1151 17.2468 19.7324L15.8611 20.5324ZM13.4107 16.2882L15.8611 20.5324L17.2468 19.7324L14.7963 15.4882L13.4107 16.2882Z",fill:n})]})}},LaQk:function(e,t,n){"use strict";var r=n("nKUr");t.a=function(e){var t=e.color,n=void 0===t?"currentColor":t;return Object(r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M7 6C7 5.44771 7.44772 5 8 5H16C16.5523 5 17 5.44772 17 6V18.3333L12 15L7 18.3333V6Z",stroke:n,strokeWidth:"1.6"})})}},MJKl:function(e,t,n){"use strict";var r=n("nKUr"),a=n("hcCo"),i=n.n(a);t.a=function(e){var t=e.children;return Object(r.jsx)("div",{className:i.a.grid,children:t})}},Mt7u:function(e,t,n){"use strict";var r=n("nKUr"),a=n("cpVT"),i=n("q1tI"),o=n("NKCw"),c=n("Zlg1"),s=n("4SLk"),l=n("V4Io"),u=n("SZ2y"),d=n("dhJC"),b=n("r+tm"),j=n.n(b);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.register,n=e.name,a=Object(d.a)(e,["register","name"]),o=Object(i.useState)(""),c=o[0],s=o[1],l=Object(i.useState)(!1),u=l[0],b=l[1];return Object(i.useEffect)((function(){var e=document.getElementById("pageNumber");e&&s(e.value)}),[]),Object(r.jsxs)("div",{className:j.a.outer,children:[Object(r.jsxs)("span",{className:"".concat(j.a.placeholder," ").concat(c.length>0||u?j.a.hide:""),children:[Object(r.jsxs)("svg",{width:"13",height:"14",viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M6.5 2.00006V11.9999",stroke:"#444340",strokeWidth:"1.6",strokeLinecap:"round"}),Object(r.jsx)("path",{d:"M1.5 6.99997H11.4998",stroke:"#444340",strokeWidth:"1.6",strokeLinecap:"round"})]}),"Page number"]}),Object(r.jsx)("input",f({id:"pageNumber",name:n,type:"number",ref:t,className:j.a.input,onChange:function(e){return s(e.target.value)},onFocus:function(){return b(!0)},onBlur:function(){return b(!1)}},a))]})},O=n("z430"),p=n("WDCN"),g=n("WlXq"),x=n.n(g),m=n("95Q5"),C=n("qcQQ");t.a=function(e){var t,n=e.book,d=e.pickBook,b=(e.removeBook,e.onSubmit),j=e.initialData,v=e.profile,f=e.setIsDirty,g=void 0===f?C.a:f,_=Object(o.b)({defaultValues:j}),w=_.register,k=_.handleSubmit,y=_.setValue,L=_.formState,I=Object(i.useState)(!1),S=I[0],N=I[1],P=L.isDirty;Object(i.useEffect)((function(){y("bookId",n?n.id:void 0),setTimeout((function(){N(!0)}))}),[n,S]),Object(i.useEffect)((function(){g(L.isDirty)}),[L.isDirty]);var D=Object(a.a)({},"--gradient",Object(p.a)(null===n||void 0===n||null===(t=n.gradientColors)||void 0===t?void 0:t.filter(m.k)));return S?Object(r.jsx)("div",{className:x.a.container,style:D,children:Object(r.jsxs)("form",{onSubmit:k(b),className:"form",children:[Object(r.jsx)("h2",{className:"displayHeader",children:j?"Edit your moment":"Create a moment"}),Object(r.jsxs)("div",{className:x.a.row,children:[Object(r.jsx)("div",{className:x.a.leftCol,children:Object(r.jsx)("div",{className:x.a.avatar,children:Object(r.jsx)(c.a,{width:40,profile:v})})}),Object(r.jsxs)("div",{className:x.a.rightCol,children:[Object(r.jsx)("div",{className:x.a.quoteContainer,children:Object(r.jsx)(O.a,{name:"quote",placeholder:"Add a quote",ref:w,minRows:5,className:"text-input ".concat(x.a.quoteTextarea)})}),Object(r.jsx)(O.a,{name:"note",placeholder:"Add a note",ref:w,minRows:5,className:"text-input ".concat(x.a.noteTextarea)}),Object(r.jsxs)("div",{className:x.a.spoiler,children:[Object(r.jsx)(u.b,{name:"spoiler",ref:w,children:"This contains a spoiler"}),Object(r.jsx)(h,{name:"where",register:w})]}),n&&Object(r.jsx)("div",{className:x.a.bookContainer,children:Object(r.jsx)(l.a,{book:n})}),Object(r.jsx)("div",{className:x.a.controls,children:n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{type:"hidden",name:"bookId",ref:w}),Object(r.jsx)(s.a,{type:j&&!P?"submit":void 0,disabled:!((!j||P)&&P),children:j?"Save changes":"Publish"})]}):Object(r.jsx)(s.a,{type:"button",onClick:d,children:"Choose book"})})]})]})]})}):null}},PVl2:function(e,t,n){e.exports={container:"BookSearch_container__3CG9i",close:"BookSearch_close__3ywTJ",form:"BookSearch_form__1Krjs",results:"BookSearch_results__2Z3lD"}},R2JA:function(e,t,n){e.exports={radio:"ReadingState_radio__1HTn6",checked:"ReadingState_checked__123CX"}},TEdz:function(e,t,n){"use strict";var r=n("nKUr"),a=n("cpVT"),i=n("q1tI"),o=n("TSYQ"),c=n.n(o),s=n("xsg2"),l=n.n(s);t.a=function(e){var t=e.book,n=e.variant,o=void 0===n?"large":n,s=Object(i.useRef)(null),u=Object(i.useState)("200px"),d=u[0],b=u[1];if(Object(i.useEffect)((function(){s.current&&b("".concat(s.current.offsetWidth,"px"))}),[s.current]),!t.cover){var j=Object(a.a)({},"--myWidth",d);return Object(r.jsxs)("div",{className:c()(l.a[o],l.a.outer,l.a.fallback),ref:s,style:j,children:[Object(r.jsxs)("div",{className:"".concat(l.a.image," ").concat(l.a.fallbackInner),children:[Object(r.jsx)("div",{className:l.a.author,children:t.authors.map((function(e){return e.name})).join(", ")}),Object(r.jsx)("div",{className:l.a.title,children:t.title}),Object(r.jsx)("div",{className:l.a.subtitle,children:t.subtitle})]}),Object(r.jsx)("div",{className:l.a.line})]})}return Object(r.jsxs)("div",{className:c()(l.a[o],l.a.outer),children:[Object(r.jsx)("img",{"data-src":t.cover.replace("&edge=curl","").replace("http","https"),alt:t.title,className:"lazyload ".concat(l.a.image)}),Object(r.jsx)("div",{className:l.a.line})]})}},U0l7:function(e,t,n){"use strict";var r=n("nKUr");t.a=function(e){var t=e.color,n=void 0===t?"currentColor":t;return Object(r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M12 3L12 13M12 13L7.5 8.88889M12 13L16.5 8.88889",stroke:n,strokeWidth:"1.6"}),Object(r.jsx)("path",{d:"M4 17H18.5C19.3284 17 20 17.6716 20 18.5V18.5C20 19.3284 19.3284 20 18.5 20H4",stroke:n,strokeWidth:"1.6"})]})}},V4Io:function(e,t,n){"use strict";var r=n("nKUr"),a=n("YFqc"),i=n.n(a),o=n("TEdz"),c=n("VC5m"),s=n.n(c),l=function(e){var t=e.book;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:s.a.image,children:Object(r.jsx)(o.a,{variant:"tiny",book:t})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:t.title}),Object(r.jsx)("div",{className:s.a.authors,children:t.authors&&t.authors.map((function(e){return e.name})).join(", ")})]})]})};t.a=function(e){var t=e.book,n=e.href,a=e.as,o=e.withLink;return void 0===o||o||s.a.book,Object(r.jsx)(i.a,{href:n||"/book/[bookSlug]",as:a||"/book/".concat(t.slug),children:Object(r.jsx)("a",{className:s.a.book,children:Object(r.jsx)(l,{book:t})})})}},VC5m:function(e,t,n){e.exports={book:"Small_book__fb523",image:"Small_image__1tHNU",authors:"Small_authors__19G5S"}},WDCN:function(e,t,n){"use strict";t.a=function(e){return e&&3===e.length?"linear-gradient(175.27deg, ".concat(e[0]," -1.64%, ").concat(e[1]," 59.08%, ").concat(e[2]," 85.36%)"):"var(--uiOutline)"}},WlXq:function(e,t,n){e.exports={container:"MomentForm_container__2hryR",row:"MomentForm_row__1Kzh7",leftCol:"MomentForm_leftCol__2jVp5",rightCol:"MomentForm_rightCol__14Szl",avatar:"MomentForm_avatar__hg3pj",quoteTextarea:"MomentForm_quoteTextarea__34hIK",noteTextarea:"MomentForm_noteTextarea__18vws",quoteContainer:"MomentForm_quoteContainer__11qTU",bookContainer:"MomentForm_bookContainer__3GDE6",controls:"MomentForm_controls__10LV3",spoiler:"MomentForm_spoiler__2Dlis"}},WwJn:function(e,t,n){"use strict";var r,a=n("nKUr"),i=n("cpVT"),o=n("q1tI"),c=n("TSYQ"),s=n.n(c),l=n("gix7"),u=n("kZUq"),d=n.n(u),b=(r={},Object(i.a)(r,l.r.WantsToRead,"Want to read"),Object(i.a)(r,l.r.IsReading,"Currently reading"),Object(i.a)(r,l.r.Dropped,"Dropped"),Object(i.a)(r,l.r.Finished,"Has read"),Object(i.a)(r,l.r.None,""),r),j=Object(o.forwardRef)((function(e,t){var n=e.onClick,r=e.status,o=!!r&&r!==l.r.None;return Object(a.jsxs)("button",{ref:t,onClick:n,className:s()(d.a.dropdownButton,Object(i.a)({},d.a.dropdownButtonInverse,o)),children:[o&&!!r&&Object(a.jsx)("span",{className:d.a.dropdownButtonInner,children:b[r]}),Object(a.jsx)("svg",{width:"15",height:"9",viewBox:"0 0 15 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"white",children:Object(a.jsx)("path",{d:"M1 1L7.5 7.5L14 1",strokeWidth:"1.5",strokeLinecap:"round"})})]})}));j.displayName="DropdownButton",t.a=j},dApv:function(e,t,n){e.exports={container:"Rating_container__1Xzt2",gradient:"Rating_gradient__1DF32",starIcon:"Rating_starIcon__3QJz9",starIconHalf:"Rating_starIconHalf__lg6kX",starIconHalf1:"Rating_starIconHalf1__1KXhx",starIconHalf2:"Rating_starIconHalf2__2hUBH",ratingInputContainer:"Rating_ratingInputContainer__1aOsV",textInputContainer:"Rating_textInputContainer__2-fno",textInput:"Rating_textInput__1aZPO",noValue:"Rating_noValue__3fvzr",hovering:"Rating_hovering__2UVvd"}},gaAT:function(e,t,n){"use strict";var r=n("nKUr"),a=n("gix7"),i=function(){return Object(r.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M12.3307 1.36054C13.1213 0.163374 14.878 0.163374 15.6686 1.36054L15.7044 1.41472C16.279 2.28486 17.4257 2.5675 18.3389 2.06407L18.3958 2.03272C19.6521 1.34009 21.2076 2.15646 21.3513 3.5839L21.3578 3.64851C21.4622 4.68601 22.3462 5.46918 23.3888 5.44779L23.4537 5.44646C24.888 5.41703 25.8859 6.86275 25.3498 8.19346L25.3255 8.25369C24.9358 9.22088 25.3546 10.3252 26.2877 10.7907L26.3458 10.8197C27.6295 11.4602 27.8413 13.2041 26.7481 14.1332L26.6986 14.1753C25.9041 14.8506 25.7618 16.023 26.3716 16.8688L26.4096 16.9215C27.2486 18.0852 26.6257 19.7278 25.2259 20.0425L25.1626 20.0567C24.1452 20.2854 23.4743 21.2574 23.6212 22.2897L23.6304 22.354C23.8325 23.7744 22.5176 24.9393 21.132 24.5674L21.0692 24.5506C20.0621 24.2803 19.0164 24.8292 18.6667 25.8116L18.6449 25.8727C18.1638 27.2243 16.4582 27.6447 15.4041 26.6715L15.3564 26.6275C14.5902 25.9202 13.4092 25.9202 12.643 26.6275L12.5953 26.6715C11.5412 27.6447 9.83554 27.2243 9.35443 25.8727L9.33265 25.8116C8.98297 24.8292 7.93721 24.2803 6.9301 24.5506L6.86739 24.5674C5.48176 24.9393 4.16686 23.7744 4.36897 22.354L4.37811 22.2897C4.52501 21.2574 3.8541 20.2854 2.83675 20.0567L2.7734 20.0425C1.37369 19.7278 0.750759 18.0852 1.58978 16.9215L1.62776 16.8688C2.23758 16.023 2.09523 14.8506 1.3007 14.1753L1.25122 14.1332C0.158081 13.2041 0.369826 11.4602 1.65356 10.8197L1.71166 10.7907C2.64471 10.3252 3.06351 9.22088 2.67383 8.25369L2.64956 8.19346C2.11342 6.86276 3.11133 5.41703 4.54568 5.44646L4.6106 5.44779C5.65312 5.46918 6.53714 4.68601 6.64157 3.64851L6.64807 3.5839C6.79175 2.15646 8.34722 1.34009 9.6036 2.03272L9.66046 2.06407C10.5736 2.5675 11.7203 2.28486 12.295 1.41472L12.3307 1.36054Z",fill:"black"}),Object(r.jsx)("path",{d:"M12.0728 13.1807L13.3821 9.58164C13.5947 8.99731 14.2834 8.7466 14.8219 9.0575L18.0868 10.9425C18.6253 11.2534 18.7525 11.9751 18.3528 12.4514L15.8906 15.3849C15.7753 15.5222 15.7424 15.7107 15.8043 15.8789L16.4861 17.7327C16.5023 17.7766 16.4547 17.8167 16.4142 17.7933L9.72522 13.9314C9.68472 13.908 9.69562 13.8468 9.7417 13.8388L11.688 13.5024C11.8647 13.4719 12.0115 13.3491 12.0728 13.1807Z",stroke:"white",strokeWidth:"1.6"}),Object(r.jsx)("path",{d:"M10.7709 18.2441C10.55 18.6268 10.6811 19.116 11.0637 19.337C11.4464 19.5579 11.9356 19.4268 12.1566 19.0441L10.7709 18.2441ZM12.2789 15.6323L10.7709 18.2441L12.1566 19.0441L13.6645 16.4323L12.2789 15.6323Z",fill:"white"})]})},o=function(){return Object(r.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M12.3307 1.36054C13.1213 0.163374 14.878 0.163374 15.6686 1.36054L15.7044 1.41472C16.279 2.28486 17.4257 2.5675 18.3389 2.06407L18.3958 2.03272C19.6521 1.34009 21.2076 2.15646 21.3513 3.5839L21.3578 3.64851C21.4622 4.68601 22.3462 5.46918 23.3888 5.44779L23.4537 5.44646C24.888 5.41703 25.8859 6.86275 25.3498 8.19346L25.3255 8.25369C24.9358 9.22088 25.3546 10.3252 26.2877 10.7907L26.3458 10.8197C27.6295 11.4602 27.8413 13.2041 26.7481 14.1332L26.6986 14.1753C25.9041 14.8506 25.7618 16.023 26.3716 16.8688L26.4096 16.9215C27.2486 18.0852 26.6257 19.7278 25.2259 20.0425L25.1626 20.0567C24.1452 20.2854 23.4743 21.2574 23.6212 22.2897L23.6304 22.354C23.8325 23.7744 22.5176 24.9393 21.132 24.5674L21.0692 24.5506C20.0621 24.2803 19.0164 24.8292 18.6667 25.8116L18.6449 25.8727C18.1638 27.2243 16.4582 27.6447 15.4041 26.6715L15.3564 26.6275C14.5902 25.9202 13.4092 25.9202 12.643 26.6275L12.5953 26.6715C11.5412 27.6447 9.83554 27.2243 9.35443 25.8727L9.33265 25.8116C8.98297 24.8292 7.93721 24.2803 6.9301 24.5506L6.86739 24.5674C5.48176 24.9393 4.16686 23.7744 4.36897 22.354L4.37811 22.2897C4.52501 21.2574 3.8541 20.2854 2.83675 20.0567L2.7734 20.0425C1.37369 19.7278 0.750759 18.0852 1.58978 16.9215L1.62776 16.8688C2.23758 16.023 2.09523 14.8506 1.3007 14.1753L1.25122 14.1332C0.158081 13.2041 0.369826 11.4602 1.65356 10.8197L1.71166 10.7907C2.64471 10.3252 3.06351 9.22088 2.67383 8.25369L2.64956 8.19346C2.11342 6.86276 3.11133 5.41703 4.54568 5.44646L4.6106 5.44779C5.65312 5.46918 6.53714 4.68601 6.64157 3.64851L6.64807 3.5839C6.79175 2.15646 8.34722 1.34009 9.6036 2.03272L9.66046 2.06407C10.5736 2.5675 11.7203 2.28486 12.295 1.41472L12.3307 1.36054Z",fill:"black"}),Object(r.jsx)("ellipse",{cx:"13.9998",cy:"13.7",rx:"2.7",ry:"2.7",stroke:"white",strokeWidth:"1.6"}),Object(r.jsx)("path",{d:"M7.25 13.7C12.5403 10.0876 15.5984 10.1124 20.75 13.7",stroke:"white",strokeWidth:"1.6",strokeLinecap:"round"})]})},c=function(){return Object(r.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M12.3307 1.36054C13.1213 0.163374 14.878 0.163374 15.6686 1.36054L15.7044 1.41472C16.279 2.28486 17.4257 2.5675 18.3389 2.06407L18.3958 2.03272C19.6521 1.34009 21.2076 2.15646 21.3513 3.5839L21.3578 3.64851C21.4622 4.68601 22.3462 5.46918 23.3888 5.44779L23.4537 5.44646C24.888 5.41703 25.8859 6.86275 25.3498 8.19346L25.3255 8.25369C24.9358 9.22088 25.3546 10.3252 26.2877 10.7907L26.3458 10.8197C27.6295 11.4602 27.8413 13.2041 26.7481 14.1332L26.6987 14.1753C25.9041 14.8506 25.7618 16.023 26.3716 16.8688L26.4096 16.9215C27.2486 18.0852 26.6257 19.7278 25.2259 20.0425L25.1626 20.0567C24.1452 20.2854 23.4743 21.2574 23.6212 22.2897L23.6304 22.354C23.8325 23.7744 22.5176 24.9393 21.132 24.5674L21.0693 24.5506C20.0621 24.2803 19.0164 24.8292 18.6667 25.8116L18.6449 25.8727C18.1638 27.2243 16.4582 27.6447 15.4041 26.6715L15.3564 26.6275C14.5902 25.9202 13.4092 25.9202 12.643 26.6275L12.5953 26.6715C11.5412 27.6447 9.83554 27.2243 9.35443 25.8727L9.33265 25.8116C8.98297 24.8292 7.93721 24.2803 6.9301 24.5506L6.86739 24.5674C5.48176 24.9393 4.16686 23.7744 4.36897 22.354L4.37811 22.2897C4.52501 21.2574 3.8541 20.2854 2.83675 20.0567L2.7734 20.0425C1.37369 19.7278 0.750759 18.0852 1.58978 16.9215L1.62776 16.8688C2.23758 16.023 2.09523 14.8506 1.3007 14.1753L1.25122 14.1332C0.158081 13.2041 0.369826 11.4602 1.65356 10.8197L1.71166 10.7907C2.64471 10.3252 3.06351 9.22088 2.67383 8.25369L2.64956 8.19346C2.11342 6.86276 3.11133 5.41703 4.54568 5.44646L4.6106 5.44779C5.65312 5.46918 6.53714 4.68601 6.64157 3.64851L6.64807 3.5839C6.79175 2.15646 8.34722 1.34009 9.6036 2.03272L9.66046 2.06407C10.5736 2.5675 11.7203 2.28486 12.295 1.41472L12.3307 1.36054Z",fill:"black"}),Object(r.jsx)("path",{d:"M9 14.1209C10.7746 16.487 12.5492 17.6703 12.5492 17.6703C12.5492 17.6703 16.6899 14.1209 19 9.83331",stroke:"white",strokeWidth:"1.6"})]})},s=function(){return Object(r.jsxs)("svg",{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M15.331 1.11054C16.1216 -0.0866266 17.8783 -0.0866255 18.6688 1.11054L19.288 2.04805C19.8626 2.91819 21.0093 3.20083 21.9225 2.6974L22.9063 2.15499C24.1627 1.46235 25.7182 2.27873 25.8619 3.70617L25.9744 4.82401C26.0788 5.86152 26.9628 6.64469 28.0054 6.6233L29.1286 6.60025C30.563 6.57082 31.5609 8.01655 31.0247 9.34725L30.6049 10.3893C30.2152 11.3565 30.634 12.4608 31.567 12.9264L32.5723 13.428C33.8561 14.0685 34.0678 15.8124 32.9747 16.7415L32.1186 17.4691C31.3241 18.1444 31.1817 19.3168 31.7916 20.1627L32.4486 21.074C33.2876 22.2377 32.6647 23.8802 31.265 24.1949L30.1689 24.4414C29.1515 24.6701 28.4806 25.6421 28.6275 26.6744L28.7858 27.7867C28.9879 29.207 27.673 30.3719 26.2874 30.0001L25.2023 29.7089C24.1951 29.4386 23.1494 29.9875 22.7997 30.9699L22.4229 32.0283C21.9418 33.3799 20.2362 33.8003 19.1821 32.8271L18.3566 32.065C17.5904 31.3577 16.4094 31.3577 15.6432 32.065L14.8178 32.8271C13.7636 33.8003 12.058 33.3799 11.5769 32.0283L11.2001 30.9699C10.8505 29.9875 9.80469 29.4386 8.79758 29.7089L7.71248 30.0001C6.32685 30.3719 5.01195 29.207 5.21406 27.7867L5.37233 26.6744C5.51923 25.6421 4.84833 24.6701 3.83097 24.4414L2.73485 24.1949C1.33513 23.8802 0.712201 22.2377 1.55123 21.074L2.20827 20.1626C2.8181 19.3168 2.67574 18.1444 1.88121 17.4691L1.02516 16.7415C-0.0679802 15.8124 0.143766 14.0685 1.4275 13.428L2.4328 12.9264C3.36585 12.4608 3.78465 11.3565 3.39497 10.3893L2.97511 9.34725C2.43896 8.01654 3.43688 6.57082 4.87123 6.60025L5.99448 6.6233C7.03701 6.64469 7.92103 5.86151 8.02545 4.82401L8.13797 3.70617C8.28164 2.27873 9.83711 1.46235 11.0935 2.15499L12.0774 2.6974C12.9905 3.20083 14.1373 2.91819 14.7119 2.04805L15.331 1.11054Z",fill:"black"}),Object(r.jsx)("path",{d:"M17 8L17 18M17 18L12.5 13.8889M17 18L21.5 13.8889",stroke:"white",strokeWidth:"1.6"}),Object(r.jsx)("path",{d:"M9 22H23.5C24.3284 22 25 22.6716 25 23.5V23.5C25 24.3284 24.3284 25 23.5 25H9",stroke:"white",strokeWidth:"1.6"})]})};t.a=function(e){var t=e.bookId,n=e.readingStates;if(!n)return null;var l=n.find((function(e){return e.bookId===t}));return l?l.status===a.r.Finished?Object(r.jsx)(c,{}):l.status===a.r.IsReading?Object(r.jsx)(o,{}):l.status===a.r.Dropped?Object(r.jsx)(s,{}):l.status===a.r.WantsToRead?Object(r.jsx)(i,{}):null:null}},hDWZ:function(e,t,n){"use strict";var r=n("nKUr"),a=n("q1tI"),i=n("4YED"),o=n("xvhg"),c=n("gix7"),s=n("2uYD"),l=n("MJKl");var u=function(e,t){var n=Object(a.useState)(e),r=n[0],i=n[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r},d=n("kiXS"),b=n("PVl2"),j=n.n(b),v=n("95Q5"),f=function(e){var t,n=e.onPick,i=e.closeMe,b=Object(a.useState)(!1),f=b[0],h=b[1],O=Object(a.useState)(""),p=O[0],g=O[1],x=Object(a.useRef)(null),m=u(p,500);Object(a.useEffect)((function(){m?(w({variables:{query:m,language:""}}),h(!0)):h(!1)}),[m]);var C=Object(c.mb)(),_=Object(o.a)(C,2),w=_[0],k=_[1],y=k.data,L=k.loading;return Object(r.jsxs)("div",{className:j.a.container,children:[Object(r.jsx)("button",{onClick:function(e){e.preventDefault(),h(!1),i&&i()},className:j.a.close,children:Object(r.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.91844 8.07035C8.60602 7.75793 8.09949 7.75793 7.78707 8.07035C7.47465 8.38277 7.47465 8.88931 7.78707 9.20172L13.8682 15.2828L8.06991 21.0811C7.75749 21.3935 7.75749 21.9001 8.06991 22.2125C8.38233 22.5249 8.88886 22.5249 9.20128 22.2125L14.9996 16.4142L20.7978 22.2125C21.1103 22.5249 21.6168 22.5249 21.9292 22.2125C22.2416 21.9001 22.2416 21.3935 21.9292 21.0811L16.1309 15.2828L22.212 9.20172C22.5245 8.8893 22.5245 8.38277 22.212 8.07035C21.8996 7.75793 21.3931 7.75793 21.0807 8.07035L14.9996 14.1515L8.91844 8.07035Z",fill:"black"})})}),Object(r.jsx)("div",{className:j.a.form,children:Object(r.jsx)("input",{type:"text",value:p,placeholder:"Search for title or author",onChange:function(e){return g(e.target.value)},className:"text-input"})}),Object(r.jsx)("div",{className:j.a.results,ref:x,children:L?Object(r.jsx)(d.a,{}):Object(r.jsx)(l.a,{children:f&&y&&(null===(t=y.searchBook)||void 0===t?void 0:t.filter(v.k).map((function(e){return Object(r.jsx)(s.a,{book:e,onClick:n?function(){return n(e)}:void 0},null===e||void 0===e?void 0:e.id)})))})})]})},h=n("x04M"),O=n.n(h);t.a=function(e){var t=e.closeMe,n=e.onPick,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(o.current)return Object(i.b)(o.current),function(){return Object(i.a)()}}),[]),Object(r.jsx)("div",{className:O.a.container,ref:o,children:Object(r.jsx)(f,{closeMe:t,onPick:n})})}},hcCo:function(e,t,n){e.exports={grid:"Grid_grid__2Eq3z"}},iwTR:function(e,t,n){"use strict";var r=n("nKUr"),a=n("vJKn"),i=n.n(a),o=n("rg98"),c=n("xvhg"),s=n("q1tI"),l=n("gix7"),u=n("BPjB"),d=n("rBoR"),b=n("cpVT"),j=n("TSYQ"),v=n.n(j),f=n("LaQk"),h=n("LMak"),O=n("U0l7"),p=n("Hi1A"),g=n("cXHr"),x=n.n(g),m=n("R2JA"),C=n.n(m),_=function(e){var t=e.currentStatus,n=e.setStatus,a=function(e){return function(r){r.preventDefault(),r.stopPropagation(),n(t===e?l.r.None:e)}};return Object(r.jsxs)("div",{children:[Object(r.jsxs)("button",{onClick:a(l.r.WantsToRead),className:x.a.item,children:[Object(r.jsx)("span",{className:x.a.icon,children:Object(r.jsx)(h.a,{})}),"Want to read"," ",Object(r.jsx)("span",{className:v()(C.a.radio,Object(b.a)({},C.a.checked,t===l.r.WantsToRead))})]}),Object(r.jsxs)("button",{onClick:a(l.r.IsReading),className:x.a.item,children:[Object(r.jsx)("span",{className:x.a.icon,children:Object(r.jsx)(f.a,{})}),"Reading"," ",Object(r.jsx)("span",{className:v()(C.a.radio,Object(b.a)({},C.a.checked,t===l.r.IsReading))})]}),Object(r.jsxs)("button",{onClick:a(l.r.Dropped),className:x.a.item,children:[Object(r.jsx)("span",{className:x.a.icon,children:Object(r.jsx)(O.a,{})}),"Dropped"," ",Object(r.jsx)("span",{className:v()(C.a.radio,Object(b.a)({},C.a.checked,t===l.r.Dropped))})]}),Object(r.jsxs)("button",{onClick:a(l.r.Finished),className:x.a.item,children:[Object(r.jsx)("span",{className:x.a.icon,children:Object(r.jsx)(p.a,{})}),"Read"," ",Object(r.jsx)("span",{className:v()(C.a.radio,Object(b.a)({},C.a.checked,t===l.r.Finished))})]})]})},w=n("SZ2y"),k=n("SIxx"),y=n("Kcz3"),L=n.n(y),I=function(e){var t=e.shelves,n=e.onShelfClick,a=e.isBookInShelf;return t?Object(r.jsxs)("div",{children:[t.map((function(e){return Object(r.jsxs)("button",{className:x.a.item,onClick:function(t){t.preventDefault(),t.stopPropagation(),n(e.id)},children:[e.title,Object(r.jsx)("span",{className:L.a.checkbox,children:Object(r.jsx)(w.a,{isChecked:a(e.id)})})]},e.id)})),Object(r.jsx)(k.a,{})]}):null},S=n("v2kd"),N=n("Jbsg"),P=n("ihkx"),D=function(e){var t=e.color,n=void 0===t?"currentColor":t;return Object(r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M4 12.5L19 12.5",stroke:n,strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),Object(r.jsx)("path",{d:"M7.75 6.00482L15.25 18.9952",stroke:n,strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),Object(r.jsx)("path",{d:"M15.5 6L8 18.9904",stroke:n,strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})},R=n("9M69"),M=n("whZY"),B=n("MjsB"),E=function(e){var t=e.color,n=void 0===t?"currentColor":t;return Object(r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M11.8088 3.58541C11.8687 3.40115 12.1294 3.40115 12.1892 3.58541L13.9747 9.08065C14.0015 9.16306 14.0783 9.21885 14.165 9.21885L19.943 9.21885C20.1367 9.21885 20.2173 9.46677 20.0606 9.58065L15.386 12.9769C15.3159 13.0278 15.2866 13.1181 15.3134 13.2005L17.0989 18.6957C17.1588 18.88 16.9479 19.0332 16.7911 18.9193L12.1166 15.5231C12.0465 15.4722 11.9516 15.4722 11.8815 15.5231L7.20694 18.9193C7.05019 19.0332 6.8393 18.88 6.89917 18.6957L8.68468 13.2005C8.71145 13.1181 8.68212 13.0278 8.61202 12.9769L3.93749 9.58065C3.78075 9.46677 3.86131 9.21885 4.05505 9.21885H9.83309C9.91973 9.21885 9.99653 9.16306 10.0233 9.08065L11.8088 3.58541Z",stroke:n,strokeWidth:"1.6"})})},T=n("kiXS"),q=n("efMA"),F=n("4SLk"),V=n("8cCV"),U=n("NKCw"),W=n("z430"),K=n("xIhc"),H=n.n(K),A=n("z7pX"),Z=n("8YUc"),z=n("/oYa"),Q=n("+z4i"),J=n.n(Q),Y=n("7zTf"),X=function(e){var t=e.activeTags,n=void 0===t?[]:t,a=e.setActiveTags,i=Object(s.useState)([]),o=i[0],c=i[1];function l(){var e=Object(Y.b)(n),t=Object(Y.a)(20-e.length,n);c(e.concat(t))}return Object(s.useEffect)((function(){l()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:v()(J.a.headline,"py-4"),children:[Object(r.jsx)("div",{className:"body",children:"What words best describe this book?"}),Object(r.jsx)(Z.b,{variant:"faded",className:J.a.shuffle,onClick:l,children:"Shuffle"})]}),Object(r.jsx)("div",{className:J.a.container,children:o.map((function(e){return Object(r.jsx)(z.a,{tag:e,isActive:n.includes(e.value),onClick:function(){return function(e){if(n.includes(e))return a(n.filter((function(t){return t!==e})));a([].concat(Object(A.a)(n),[e]))}(e.value)}},e.value)}))})]})},G=n("qcQQ"),$=function(e){var t=e.onSubmit,n=e.setIsDirty,a=void 0===n?G.a:n,i=e.book,o=e.initialData,c=e.profile,l=e.isEditing,u=void 0!==l&&l,d=Object(U.b)({defaultValues:o}),j=d.register,f=d.handleSubmit,h=d.control,O=d.watch,p=d.formState;Object(s.useEffect)((function(){a(p.isDirty)}),[p.isDirty]);var g=O("text"),x=Object(s.useState)(!1),m=x[0],C=x[1];return Object(s.useEffect)((function(){setTimeout((function(){C(!0)}))}),[i,m]),m?Object(r.jsx)("div",{className:H.a.container,children:Object(r.jsxs)("form",{onSubmit:f(t),className:"form",children:[Object(r.jsxs)("h2",{className:"displayHeader",children:["Reviewing ",i.title]}),Object(r.jsxs)("div",{className:H.a.row,children:[Object(r.jsx)("div",{className:H.a.leftCol,children:Object(r.jsx)("span",{className:H.a.avatar,style:{backgroundImage:"url(".concat(c.image,")")}})}),Object(r.jsxs)("div",{className:H.a.rightCol,children:[Object(r.jsx)(U.a,{control:h,name:"rating",render:function(e){var t=e.onChange,n=e.value;return Object(r.jsx)(V.b,{onChange:t,value:n})}}),Object(r.jsx)("div",{className:H.a.quoteContainer,children:Object(r.jsx)(W.a,{name:"text",placeholder:"What do you think of the book?",ref:j,minRows:5,className:v()("text-input",H.a.textArea)})}),Object(r.jsx)("div",{className:v()(H.a.spoiler,Object(b.a)({},H.a.hidden,!g)),children:Object(r.jsx)(w.b,{name:"spoiler",ref:j,children:"This contains a spoiler"})}),Object(r.jsx)("div",{className:H.a.tagsContainer,children:Object(r.jsx)(U.a,{control:h,name:"tags",render:function(e){var t=e.onChange,n=e.value;return Object(r.jsx)(X,{activeTags:n,setActiveTags:t})}})}),Object(r.jsxs)("div",{className:H.a.controls,children:[Object(r.jsx)("input",{type:"hidden",name:"bookId",ref:j}),Object(r.jsx)(F.a,{type:"submit",children:u?"Save changes":"Post review"})]})]})]})]})}):null};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var te=function(e){var t=e.setOpen,n=e.isOpen,a=e.book,u=e.afterCreate,d=void 0===u?G.a:u;if(!n)return null;var j=Object(P.b)().profile;if(!j)return null;var v=Object(B.a)().trackEvent,f=Object(s.useState)(!1),h=f[0],O=f[1];Object(s.useEffect)((function(){function e(e){n&&h&&(e.preventDefault(),e.returnValue="Are you sure you want to leave?")}return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[h,n]);var p=Object(l.B)(),g=Object(c.a)(p,1)[0],x=Object(l.zb)(),m=Object(c.a)(x,1)[0],C=Object(l.X)({variables:{bookId:a.id,profileId:null===j||void 0===j?void 0:j.id},skip:!j}),_=C.data,w=C.loading,k=C.error;if(w)return Object(r.jsx)(T.c,{});if(k)return Object(r.jsx)("pre",{children:JSON.stringify(k,null,2)});var y={rating:0,spoiler:!1,text:""};null!==_&&void 0!==_&&_.review&&(y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},_.review));var L=[{query:l.i,variables:{bookId:a.id,profileId:j.id}}];return Object(r.jsx)(q.a,{close:function(){if(!h)return t(!1);confirm("You have unsaved changes. Are you sure you want to leave?")&&t(!1)},children:Object(r.jsx)($,{onSubmit:function(){var e=Object(o.a)(i.a.mark((function e(n){var r,o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.text,o=n.spoiler,c=n.rating,s=n.tags,null===_||void 0===_||!_.review){e.next=6;break}return e.next=4,m({variables:{id:_.review.id,text:r,spoiler:o,rating:c,tags:s},refetchQueries:L});case 4:e.next=9;break;case 6:return e.next=8,g({variables:{bookId:a.id,text:r,spoiler:o,rating:c,tags:s},refetchQueries:L});case 8:v("review_created",{isbn13:a.isbn13,rating:c,hasText:!!r,tagsCount:s&&s.length>0?s.length:0});case 9:d(),t(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialData:y,book:a,profile:j,isEditing:!(null===_||void 0===_||!_.review),setIsDirty:O})})},ne=n("Fj+D"),re=n("WwJn"),ae=n("KTfp"),ie=n("Hn/8"),oe=function(e){var t=e.handle,n=e.book,a=Object(l.V)({variables:{handle:t}}),s=a.data,u=a.loading,d=Object(l.u)(),b=Object(c.a)(d,1)[0],j=Object(l.kb)(),v=Object(c.a)(j,1)[0],f=Object(ne.b)(),h=Object(B.a)(),O=function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&s.profile){e.next=2;break}return e.abrupt("return");case 2:if(a=s.profile.shelves.find((function(e){return e.id===t})),!(a&&-1!==a.books.findIndex((function(e){return e.id===r})))){e.next=10;break}return e.next=7,v({variables:{bookId:r,shelfId:t}});case 7:h.trackEvent("book_removed_from_shelf",{shelfId:t,isbn13:n.isbn13}),e.next=15;break;case 10:return o={bookId:r,shelfId:t},f.mediatorHandle&&(o.mediatorHandle=f.mediatorHandle,o.mediatorType=l.c.Profile),e.next=14,b({variables:o,refetchQueries:function(){return f.mediatorId?[{query:l.b,variables:{actorId:f.mediatorId,bookId:n.id}}]:[]}});case 14:h.trackEvent("book_added_to_shelf",{shelfId:t,isbn13:n.isbn13});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return u||!s?Object(r.jsx)(T.b,{}):s.profile?0===s.profile.shelves.length?null:Object(r.jsx)(I,{shelves:s.profile.shelves,onShelfClick:function(e){return O(e,n.id)},isBookInShelf:function(e){var t,r=null===(t=s.profile)||void 0===t?void 0:t.shelves.find((function(t){return t.id===e}));return!!r&&-1!==r.books.findIndex((function(e){return e.id===n.id}))}}):null};t.a=function(e){var t=e.book,n=e.positioningStrategy,a=e.additionalOptions,i=void 0===a?null:a,o=e.buttonStyle,c=void 0===o?"dots":o,l=Object(s.useState)(!1),b=l[0],j=l[1],v=Object(s.useState)(!1),f=v[0],h=v[1],O=Object(s.useState)(!1),p=O[0],g=O[1],x=Object(P.b)(),m=x.isAuthenticated,C=x.profile,w=x.refetchProfile,y=x.readingStates,L=Object(M.a)().updateReadingState;if(!m||!C)return Object(r.jsx)(r.Fragment,{});var I=y?y.find((function(e){return e.bookId===t.id})):void 0,B=function(e){return"arrow"===e?Object(r.jsx)(re.a,{}):"dots-vertical"===e?Object(r.jsx)(ie.a,{}):Object(r.jsx)(ae.a,{})}(c);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(u.a,{button:B,positioningStrategy:n,status:null===I||void 0===I?void 0:I.status,children:[Object(r.jsx)(_,{currentStatus:null===I||void 0===I?void 0:I.status,setStatus:function(e){return L(e,t,C)}}),Object(r.jsx)(k.a,{}),Object(r.jsx)(oe,{handle:C.handle,book:t}),Object(r.jsx)(d.a,{name:"Create new shelf",onClick:function(){return h(!0)},icon:Object(r.jsx)(R.b,{})}),Object(r.jsx)(k.a,{full:!0}),Object(r.jsx)(d.a,{name:"Create moment",onClick:function(){return j(!0)},icon:Object(r.jsx)(D,{})}),Object(r.jsx)(d.a,{name:"Review",onClick:function(){return g(!0)},icon:Object(r.jsx)(E,{})}),i]}),Object(r.jsx)(S.a,{isOpen:b,setOpen:j,book:t}),Object(r.jsx)(N.a,{isOpen:f,setOpen:h,afterCreate:w}),p&&Object(r.jsx)(te,{isOpen:p,setOpen:g,book:t,afterCreate:w})]})}},k7rU:function(e,t,n){"use strict";var r=n("nKUr"),a=n("cpVT"),i=n("dhJC"),o=n("q1tI"),c=n("TSYQ"),s=n.n(c),l=n("tQaF"),u=n.n(l);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=Object(o.forwardRef)((function(e,t){var n=e.children,o=e.icon,c=e.isActive,l=Object(i.a)(e,["children","icon","isActive"]);return Object(r.jsxs)("button",b(b({ref:t,className:s()(u.a.button,Object(a.a)({},u.a.active,c))},l),{},{children:[o&&Object(r.jsx)("span",{className:s()(u.a.icon,{"mr-1":!!n}),children:o}),n]}))}));j.displayName="ReactionButtons",t.a=j},kZUq:function(e,t,n){e.exports={dropdownButton:"DropdownButton_dropdownButton__sfZOv",dropdownButtonInverse:"DropdownButton_dropdownButtonInverse__3NPrn",dropdownButtonInner:"DropdownButton_dropdownButtonInner__Vo1pW"}},kqEe:function(e,t,n){"use strict";var r=n("nKUr"),a=n("cpVT"),i=n("WDCN"),o=n("nx/J"),c=n.n(o);t.a=function(e){var t=e.count,n=e.gradientColors;if(!t)return null;var o=Object(a.a)({},"--gradient",Object(i.a)(n));return Object(r.jsxs)("div",{className:c.a.count,style:o,children:[Object(r.jsx)("svg",{viewBox:"0 0 30 30",children:Object(r.jsx)("defs",{children:Object(r.jsx)("clipPath",{id:"moment",children:Object(r.jsx)("path",{d:"M12.4143 1.80469C13.9954 0.858383 15.9688 0.858383 17.5499 1.80469L25.3356 6.46457C26.8203 7.35316 27.74 8.94617 27.7672 10.6762L27.9099 19.7488C27.9389 21.5912 26.9522 23.3002 25.3421 24.1963L17.4137 28.609C15.9018 29.4505 14.0624 29.4505 12.5505 28.609L4.62208 24.1963C3.01202 23.3002 2.02531 21.5912 2.05429 19.7488L2.197 10.6762C2.22422 8.94617 3.14394 7.35316 4.62859 6.46457L12.4143 1.80469Z"})})})}),Object(r.jsx)("span",{className:c.a.number,children:t})]})}},"nx/J":function(e,t,n){e.exports={count:"MomentsCount_count__2Xtjy",number:"MomentsCount_number__1yxJ7"}},"pnf/":function(e,t,n){e.exports={dotsButton:"DotsButton_dotsButton__96myq",active:"DotsButton_active__1LuTn"}},"r+tm":function(e,t,n){e.exports={outer:"PageNumberInput_outer__3N8jC",input:"PageNumberInput_input__3zcJV",placeholder:"PageNumberInput_placeholder__2dz7l",hide:"PageNumberInput_hide__2RrVZ"}},tQaF:function(e,t,n){e.exports={button:"ReactionButton_button__3MqJC",active:"ReactionButton_active__tUDym",icon:"ReactionButton_icon__3PPwL"}},v2kd:function(e,t,n){"use strict";var r=n("nKUr"),a=n("vJKn"),i=n.n(a),o=n("rg98"),c=n("xvhg"),s=n("q1tI"),l=n("gix7"),u=n("efMA"),d=n("Mt7u"),b=n("hDWZ"),j=n("ihkx"),v=n("MjsB"),f=n("qcQQ");t.a=function(e){var t=e.setOpen,n=e.isOpen,a=e.afterCreation,h=void 0===a?f.a:a,O=e.book,p=Object(j.b)().profile,g=Object(s.useState)(O),x=g[0],m=g[1],C=Object(s.useState)(!1),_=C[0],w=C[1],k=Object(l.z)(),y=Object(c.a)(k,1)[0],L=Object(v.a)(),I=Object(s.useState)(!1),S=I[0],N=I[1],P=function(){var e=Object(o.a)(i.a.mark((function e(n){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.bookId){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,y({variables:{bookId:n.bookId,quote:n.quote,note:n.note,where:n.where,spoiler:n.spoiler},refetchQueries:function(){return[{query:l.n,variables:{bookId:n.bookId,handle:null===p||void 0===p?void 0:p.handle}}]}});case 4:a=e.sent,o=a.data,L.trackEvent("moment_created",{mode:"Typed",momentId:null===o||void 0===o||null===(r=o.createMoment)||void 0===r?void 0:r.id}),t(!1),h();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p?Object(r.jsxs)(r.Fragment,{children:[n&&Object(r.jsx)(u.a,{close:function(){if(!S)return t(!1);confirm("You have unsaved changes. Are you sure you want to leave?")&&t(!1)},children:Object(r.jsx)(d.a,{onSubmit:P,book:x,pickBook:function(){return w(!0)},removeBook:function(){m(void 0)},profile:p,setIsDirty:N})}),_&&Object(r.jsx)("div",{style:{zIndex:12,position:"relative"},children:Object(r.jsx)(b.a,{closeMe:function(){return w(!1)},onPick:function(e){m(e),w(!1)}})})]}):null}},whZY:function(e,t,n){"use strict";var r=n("vJKn"),a=n.n(r),i=n("z7pX"),o=n("jT3O"),c=n("rg98"),s=n("xvhg"),l=n("q1tI"),u=n("VX74"),d=n("gix7"),b=n("MjsB"),j=n("Fj+D");function v(){var e=Object(o.a)(["\n                      fragment getReadingState on ReadingState {\n                        id\n                        status\n                        bookId\n                      }\n                    "]);return v=function(){return e},e}function f(){var e=Object(o.a)(["\n                    fragment NewReadingState on ReadingState {\n                      id\n                      status\n                      bookId\n                      profileId\n                      createdAt\n                    }\n                  "]);return f=function(){return e},e}function h(){var e=Object(o.a)(["\n                    fragment getReadingState on ReadingState {\n                      id\n                      status\n                      bookId\n                    }\n                  "]);return h=function(){return e},e}t.a=function(){var e=Object(l.useState)(!1),t=e[0],n=e[1],r=Object(d.yb)(),o=Object(s.a)(r,1)[0],O=Object(b.a)(),p=Object(j.b)();return{loading:t,updateReadingState:function(){var e=Object(c.a)(a.a.mark((function e(t,r,c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),s={bookId:r.id,readingStatus:t},p.mediatorHandle&&(s.mediatorHandle=p.mediatorHandle,s.mediatorType=d.c.Profile),e.next=5,o({variables:s,update:function(e,t){var n=t.data;if(null!==n&&void 0!==n&&n.updateReadingState){var a=n.updateReadingState.status;O.trackEvent("reading_state_updated",{status:b.b[a],isbn13:r.isbn13,readingStateId:n.updateReadingState.id}),e.modify({id:e.identify(c),fields:{readingStates:function(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o[0]&&(t=e.readFragment({id:e.identify(o[0]),fragment:Object(u.gql)(h())})),t&&t.status===a){var c=e.writeFragment({data:n.updateReadingState,fragment:Object(u.gql)(f())});return[c].concat(Object(i.a)(o))}var s=o.filter((function(t){var n=e.readFragment({id:e.identify(t),fragment:Object(u.gql)(v())});return!n||n.bookId!==r.id}));return s}}})}},refetchQueries:function(){var e=[{query:d.p},{query:d.q,variables:{handle:c.handle,bookSlug:r.slug}},{query:d.f,variables:{handle:c.handle}},{query:d.o,variables:{handle:c.handle}}];return p.mediatorId&&e.push({query:d.b,variables:{actorId:p.mediatorId,bookId:r.id}}),e}});case 5:n(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}}},x04M:function(e,t,n){e.exports={container:"BookPicker_container__SVpOc"}},xIhc:function(e,t,n){e.exports={container:"ReviewForm_container__1ZUBx",row:"ReviewForm_row__2nUE4",leftCol:"ReviewForm_leftCol___qndQ",rightCol:"ReviewForm_rightCol__3SbkB",ratingContainer:"ReviewForm_ratingContainer__QO1TW",ratingInput:"ReviewForm_ratingInput__13lI_",textArea:"ReviewForm_textArea__Za2Uw",quoteContainer:"ReviewForm_quoteContainer__24q6O",avatar:"ReviewForm_avatar__1mo9N",controls:"ReviewForm_controls__THICc",spoiler:"ReviewForm_spoiler__14P-r",hidden:"ReviewForm_hidden__1oDqw",tagsContainer:"ReviewForm_tagsContainer__2YNde"}},xsg2:function(e,t,n){e.exports={outer:"Cover_outer__wtEUd",line:"Cover_line__3MjrD",image:"Cover_image__3NYed",large:"Cover_large__1rRmz",small:"Cover_small__1DI6B",tiny:"Cover_tiny__2mZpV",fallback:"Cover_fallback__z8-39",fallbackInner:"Cover_fallbackInner__30cGp",author:"Cover_author__368ZM",title:"Cover_title__TaZ7U",subtitle:"Cover_subtitle__2lx7S"}}}]);
//# sourceMappingURL=bfc30366eadeb2ca1446ab97d32c62bf321ccaee.3d7df8a70f4905c200df.js.map